<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>FusionCharts v3 Documentation</title>
<link rel="stylesheet" href="Style.css" type="text/css" />
</head>

<body>
<table width="98%" border="0" cellspacing="0" cellpadding="3" align="center">
  <tr>
    <td valign="top" class="pageHeader">Capturing entity roll over/out events using JavaScript</td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>FusionMaps allows you to capture roll over/out events in your JavaScript code whenever entity in map has been hovered upon. This feature can be particularly useful if you want to show additional information for each entity on roll over. </p>
      <p>To enable this, the first step is to set <span class="codeInline">registerWithJS</span> flag of map as <span class="codeInline">1</span> and then add <span class="codeInline">exposeHoverEvent='1'</span> attribute to <span class="codeInline">&lt;map&gt;</span> element, as shown under: </p></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p class="codeBlock">&lt;div id=&quot;map1div&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;FusionMaps<br />
&lt;/div&gt;<br />
&lt;script language=&quot;JavaScript&quot;&gt; <br />
&nbsp;&nbsp;&nbsp;var map1 = new FusionMaps(&quot;../../FusionMaps/FCF_World.swf&quot;, &quot;map1Id&quot;, &quot;400&quot;, &quot;300&quot;, &quot;0&quot;, <strong>&quot;1&quot;</strong>); <br />
&nbsp;&nbsp;&nbsp;map1.setDataXML(&quot;&lt;map <strong>exposeHoverEvent='1'</strong>&gt;...&lt;/map&gt;&quot;);<br />
&nbsp;&nbsp;&nbsp;map1.render(&quot;map1div&quot;);<br />
&lt;/script&gt;</p>    </td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>Now, whenever an entity in the map is rolled over, <span class="codeInline">FC_Event</span> method is called with following parameters: <span class="codeInline">FC_Event(DOMId, eventType, objParams)</span>, where:</p>
      <ul>
        <li><span class="codeInline">DOMId</span> is the Id of the map (string) in the page. You can use this to track events generated from multiple maps in the same page.  </li>
        <li><span class="codeInline">eventType</span> is a text value representing the event generated by map. Currently, two events are supported - namely <span class="codeInline">rollOver</span> and <span class="codeInline">rollOut</span>. </li>
        <li><span class="codeInline">objParams</span> is an object containing the required parameters. In case of <span class="codeInline">rollOver</span> and <span class="codeInline">rollOut</span>, the following parameters are passed for each entity: <span class="codeInline">id</span>, <span class="codeInline">sName</span> (short name), <span class="codeInline">lName</span> (long name) and <span class="codeInline">value</span>. </li>
      </ul>
      <p>The following code shows an example of how to track roll-over events and display information about the entity in a DIV below the chart. </p></td>
  </tr>
  <tr>
    <td valign="top" class="codeBlock">&lt;HTML&gt;<br />
      &lt;HEAD&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;TITLE&gt;FusionMaps &amp; JavaScript - Entity Hover Capture&lt;/TITLE&gt; <br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;SCRIPT LANGUAGE=&quot;Javascript&quot; SRC=&quot;../../JSClass/FusionMaps.js&quot;&gt;&lt;/SCRIPT&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>function FC_Event(DOMId, eventType, objParams){<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (eventType==&quot;rollOver&quot;){<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;content&quot;).innerHTML = &quot;You rolled over entity with id as &quot; + objParams.id + &quot; having name as &quot; + objParams.lName + &quot; (&quot;+ objParams.sName +  &quot;) and value as &quot; + objParams.value;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}else{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.getElementById(&quot;content&quot;).innerHTML = &quot;Please roll over an entity to see details.&quot;;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</strong><br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/SCRIPT&gt;<br />
&lt;/HEAD&gt;<br />
&lt;BODY&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;CENTER&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;h2&gt;FusionMaps and JavaScript - Entity Hover Capture Example&lt;/h2&gt;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div id=&quot;map1div&quot;&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FusionMaps<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;script language=&quot;JavaScript&quot;&gt; <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var map1 = new FusionMaps(&quot;../../Maps/FCMap_World.swf&quot;, &quot;map1Id&quot;, &quot;750&quot;, &quot;400&quot;, &quot;0&quot;, &quot;1&quot;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map1.setDataXML(&quot;&lt;map exposeHoverEvent='1' borderColor='005879' fillColor='D7F4FF' numberSuffix=' Mill.' includeValueInLabels='1' labelSepChar=': ' baseFontSize='9'&gt;&lt;data&gt;	&lt;entity id='NA' value='515' /&gt;&lt;entity id='SA' value='373' /&gt;&lt;entity id='AS' value='3875' /&gt;&lt;entity id='EU' value='727' /&gt;&lt;entity id='AF' value='885' /&gt;&lt;entity id='AU' value='32' /&gt;&lt;/data&gt;&lt;/map&gt;&quot;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map1.render(&quot;map1div&quot;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/script&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&lt;center&gt;&lt;div id='content'&gt;Please roll over an entity to see details.&lt;/div&gt;&lt;/center&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/CENTER&gt;<br />
&lt;/BODY&gt;<br />
&lt;/HTML&gt;<br /></td>
  </tr>
  <tr>
    <td valign="top" class="text"><p>In the above code, we're first creating a world map with DOM Id as <span class="codeInline">map1Id</span>. We also register it with JavaScript and set it to expose hover events. Thereafter, we've created a function <span class="codeInline">FC_Event</span> to track the events generated from this map. This function gets invoked whenever the user rolls over a map entity. In this function, we just get the parameters of the entity and display it in <span class="codeInline">content</span> DIV. </p>
    </td>
  </tr>
</table>
</body>
</html>
