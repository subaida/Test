<HTML>
<HEAD>
	<TITLE>FusionMaps & JavaScript - Updating map using setDataXML() Method</TITLE>	
	<style type="text/css">
	<!--
	body {
		font-family: Arial, Helvetica, sans-serif;
		font-size: 12px;
	}
	-->
	</style>
	<SCRIPT LANGUAGE="Javascript" SRC="../../JSClass/FusionMaps.js"></SCRIPT>
	<SCRIPT LANGUAGE="JavaScript">
		//updatemap method is called whenever the user clicks the button to
		//update the map. Here, we get a reference to the map and update it's
		//data using setDataXML method.
		function updateMap(DOMId){
			//Get reference to map object using Dom ID
			var mapObj = getMapFromId("map1Id");
			//Update it's data
			mapObj.setDataXML("<map animation='0' borderColor='005879' fillColor='D7F4FF' numberSuffix=' per sq. mile' includeValueInLabels='1' labelSepChar=': ' baseFontSize='9'><data><entity id='NA' value='32' />	<entity id='SA' value='73' /><entity id='AS' value='203' /><entity id='EU' value='134' /><entity id='AF' value='65' /><entity id='AU' value='6.4' /></data></map>");
			//Disable the button
			this.document.frmUpdate.btnUpdate.disabled = true;
		}
	</SCRIPT>
</HEAD>
<BODY>
	<CENTER>
		<h2>FusionMaps & JavaScript - Updating map using setDataXML() Method</h2>
		
		<div id="map1div">
			FusionMaps
		</div>
		<script language="JavaScript">					
			var map1 = new FusionMaps("../../Maps/FCMap_World.swf", "map1Id", "750", "400", "0", "1");
			map1.setDataXML("<map borderColor='005879' fillColor='D7F4FF' numberSuffix=' Mill.' includeValueInLabels='1' labelSepChar=': ' baseFontSize='9'><data>	<entity id='NA' value='515' /><entity id='SA' value='373' /><entity id='AS' value='3875' /><entity id='EU' value='727' /><entity id='AF' value='885' /><entity id='AU' value='32' /></data></map>");
			map1.render("map1div");
		</script>
		<BR>
		<form name='frmUpdate'>
		<input type='button' value='Show Population Density' onClick='javaScript:updateMap();' name='btnUpdate'>
		</form>
	</CENTER>
</BODY>
</HTML>